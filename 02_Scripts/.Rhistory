# Prepare the text for the tooltip:
mytext <- paste(
df_station$Station_Name) %>%
lapply(htmltools::HTML)
s <- leaflet(df_station) %>%
addTiles()  %>%
addProviderTiles("Esri.WorldImagery") %>%
addCircleMarkers(~x_coordinate, ~y_coordinate,
fillOpacity = 0.7, color="lawngreen", radius=6, stroke=FALSE,
label = mytext,
labelOptions = labelOptions( style = list("font-weight" = "normal", padding = "3px 8px"), textsize = "13px", direction = "auto")
)
s
mytext <- paste(
df_station$Station_Name) %>%
lapply(htmltools::HTML)
mybins <- seq(0, 80, by=5)
mypalette <- colorBin(palette="viridis", domain=df_exact$Speed_mph, na.color="transparent", bins=mybins)
m <- leaflet(df_exact) %>%
addTiles() %>%
addCircleMarkers(lng = ~x_coordinate, lat = ~y_coordinate,
fillColor = ~mypalette(Speed_mph), fillOpacity = 1, radius=5, stroke=FALSE) %>%
addCircles(lng = df_station$x_coordinate,
lat = df_station$y_coordinate,
radius = 2,
color = "red",
fill = T,
fillColor = "red",
popup = df_station$Station_Name,
label = mytext,
labelOptions = labelOptions(
textsize = "13px",
direction = "left",
offset = c(0, 10))
) %>%
setView(lng = -78.75, lat = 35.85, zoom = 10) %>%
addLegend(pal=mypalette, values=~Speed_mph, opacity=0.9, title = "Average Speed (mph)", position = "bottomright" ) %>%
addProviderTiles("CartoDB.voyager")
m
mytext <- paste(
df_station$Station_Name) %>%
lapply(htmltools::HTML)
mybins <- seq(0, 80, by=5)
mypalette <- colorBin(palette="viridis", domain=df_exact$Speed_mph, na.color="transparent", bins=mybins)
m <- leaflet(df_exact) %>%
addTiles() %>%
addCircleMarkers(lng = ~x_coordinate, lat = ~y_coordinate,
fillColor = ~mypalette(Speed_mph), fillOpacity = 1, radius=5, stroke=FALSE) %>%
addCircles(lng = df_station$x_coordinate,
lat = df_station$y_coordinate,
radius = 2,
color = "red",
fill = T,
fillColor = "red",
fillOpacity = 1,
popup = df_station$Station_Name,
label = mytext,
labelOptions = labelOptions(
textsize = "13px",
direction = "left",
offset = c(0, 10))
) %>%
setView(lng = -78.75, lat = 35.85, zoom = 10) %>%
addLegend(pal=mypalette, values=~Speed_mph, opacity=0.9, title = "Average Speed (mph)", position = "bottomright" ) %>%
addProviderTiles("CartoDB.voyager")
m
m
mytext <- paste(
df_station$Station_Name) %>%
lapply(htmltools::HTML)
mybins <- seq(0, 80, by=5)
mypalette <- colorBin(palette="viridis", domain=df_exact$Speed_mph, na.color="transparent", bins=mybins)
m <- leaflet(df_exact) %>%
addTiles() %>%
addCircleMarkers(lng = ~x_coordinate, lat = ~y_coordinate,
# Prepare the text for the tooltip:
mytext <- paste(
df_station$Station_Name) %>%
lapply(htmltools::HTML)
s <- leaflet(df_station) %>%
addTiles()  %>%
addProviderTiles("Esri.WorldImagery") %>%
addCircleMarkers(~x_coordinate, ~y_coordinate,
fillOpacity = 0.7, color="lawngreen", radius=6, stroke=FALSE,
label = mytext,
labelOptions = labelOptions( style = list("font-weight" = "normal", padding = "3px 8px"), textsize = "13px", direction = "auto")
)
s
mytext <- paste(
df_station$Station_Name) %>%
lapply(htmltools::HTML)
mybins <- seq(0, 80, by=5)
mypalette <- colorBin(palette="viridis", domain=df_exact$Speed_mph, na.color="transparent", bins=mybins)
m <- leaflet(df_exact) %>%
addTiles() %>%
addCircleMarkers(lng = ~x_coordinate, lat = ~y_coordinate,
fillColor = ~mypalette(Speed_mph), fillOpacity = 1, radius=5, stroke=FALSE) %>%
addCircles(lng = df_station$x_coordinate,
lat = df_station$y_coordinate,
radius = 2,
color = "red",
fill = T,
fillColor = "red",
popup = df_station$Station_Name,
label = mytext,
labelOptions = labelOptions(
textsize = "13px",
direction = "left",
offset = c(0, 10))
) %>%
setView(lng = -78.75, lat = 35.85, zoom = 10) %>%
addLegend(pal=mypalette, values=~Speed_mph, opacity=0.9, title = "Average Speed (mph)", position = "bottomright" ) %>%
addProviderTiles("CartoDB.voyager")
m
mytext <- paste(
df_station$Station_Name) %>%
lapply(htmltools::HTML)
mybins <- seq(0, 80, by=5)
mypalette <- colorBin(palette="viridis", domain=df_exact$Speed_mph, na.color="transparent", bins=mybins)
m <- leaflet(df_exact) %>%
addTiles() %>%
addCircleMarkers(lng = ~x_coordinate, lat = ~y_coordinate,
fillColor = ~mypalette(Speed_mph), fillOpacity = 1, radius=5, stroke=FALSE) %>%
addCircles(lng = df_station$x_coordinate,
lat = df_station$y_coordinate,
radius = 2,
color = "red",
fill = T,
fillColor = "red",
fillOpacity = 1,
popup = df_station$Station_Name,
label = mytext,
labelOptions = labelOptions(
textsize = "13px",
direction = "left",
offset = c(0, 10))
) %>%
setView(lng = -78.75, lat = 35.85, zoom = 10) %>%
addLegend(pal=mypalette, values=~Speed_mph, opacity=0.9, title = "Average Speed (mph)", position = "bottomright" ) %>%
addProviderTiles("CartoDB.voyager")
m
m
mytext <- paste(
df_station$Station_Name) %>%
lapply(htmltools::HTML)
mybins <- seq(0, 80, by=5)
mypalette <- colorBin(palette="viridis", domain=df_exact$Speed_mph, na.color="transparent", bins=mybins)
m <- leaflet(df_exact) %>%
addTiles() %>%
addCircleMarkers(lng = ~x_coordinate, lat = ~y_coordinate,
fillColor = ~mypalette(Speed_mph), fillOpacity = 1, radius=5, stroke=FALSE) %>%
addCircles(lng = df_station$x_coordinate,
lat = df_station$y_coordinate,
radius = 2,
color = "red",
fill = T,
fillColor = "red",
fillOpacity = 1,
popup = df_station$Station_Name,
label = mytext,
labelOptions = labelOptions(
textsize = "13px",
direction = "left",
offset = c(0, 10))
) %>%
setView(lng = -78.78, lat = 35.82, zoom = 10) %>%
addLegend(pal=mypalette, values=~Speed_mph, opacity=0.9, title = "Average Speed (mph)", position = "bottomright" ) %>%
addProviderTiles("CartoDB.voyager")
m
m
mytext <- paste(
df_station$Station_Name) %>%
lapply(htmltools::HTML)
mybins <- seq(0, 80, by=5)
mypalette <- colorBin(palette="viridis", domain=df_exact$Speed_mph, na.color="transparent", bins=mybins)
m <- leaflet(df_exact) %>%
addTiles() %>%
addCircleMarkers(lng = ~x_coordinate, lat = ~y_coordinate,
fillColor = ~mypalette(Speed_mph), fillOpacity = 1, radius=5, stroke=FALSE) %>%
addCircles(lng = df_station$x_coordinate,
lat = df_station$y_coordinate,
radius = 2,
color = "red",
fill = T,
fillColor = "red",
fillOpacity = 1,
popup = df_station$Station_Name,
label = mytext,
labelOptions = labelOptions(
textsize = "13px",
direction = "left",
offset = c(0, 10))
) %>%
setView(lng = -78.77, lat = 35.82, zoom = 10) %>%
addLegend(pal=mypalette, values=~Speed_mph, opacity=0.9, title = "Average Speed (mph)", position = "bottomright" ) %>%
addProviderTiles("CartoDB.voyager")
m
m
mytext <- paste(
df_station$Station_Name) %>%
lapply(htmltools::HTML)
mybins <- seq(0, 80, by=5)
mypalette <- colorBin(palette="viridis", domain=df_exact$Speed_mph, na.color="transparent", bins=mybins)
m <- leaflet(df_exact) %>%
addTiles() %>%
addCircleMarkers(lng = ~x_coordinate, lat = ~y_coordinate,
fillColor = ~mypalette(Speed_mph), fillOpacity = 1, radius=5, stroke=FALSE) %>%
addCircles(lng = df_station$x_coordinate,
lat = df_station$y_coordinate,
radius = 2,
color = "red",
fill = T,
fillColor = "red",
fillOpacity = 1,
popup = df_station$Station_Name,
label = mytext,
labelOptions = labelOptions(
textsize = "13px",
direction = "left",
offset = c(0, 10))
) %>%
setView(lng = -78.76, lat = 35.82, zoom = 10) %>%
addLegend(pal=mypalette, values=~Speed_mph, opacity=0.9, title = "Average Speed (mph)", position = "bottomright" ) %>%
addProviderTiles("CartoDB.voyager")
m
m
mytext <- paste(
df_station$Station_Name) %>%
lapply(htmltools::HTML)
mybins <- seq(0, 80, by=5)
mypalette <- colorBin(palette="viridis", domain=df_exact$Speed_mph, na.color="transparent", bins=mybins)
m <- leaflet(df_exact) %>%
addTiles() %>%
addCircleMarkers(lng = ~x_coordinate, lat = ~y_coordinate,
fillColor = ~mypalette(Speed_mph), fillOpacity = 1, radius=5, stroke=FALSE) %>%
addCircles(lng = df_station$x_coordinate,
lat = df_station$y_coordinate,
radius = 2,
color = "red",
fill = T,
fillColor = "red",
fillOpacity = 1,
popup = df_station$Station_Name,
label = mytext,
labelOptions = labelOptions(
textsize = "13px",
direction = "left",
offset = c(0, 10))
) %>%
setView(lng = -78.74, lat = 35.82, zoom = 10) %>%
addLegend(pal=mypalette, values=~Speed_mph, opacity=0.9, title = "Average Speed (mph)", position = "bottomright" ) %>%
addProviderTiles("CartoDB.voyager")
m
m
mytext <- paste(
df_station$Station_Name) %>%
lapply(htmltools::HTML)
mybins <- seq(0, 80, by=5)
mypalette <- colorBin(palette="viridis", domain=df_exact$Speed_mph, na.color="transparent", bins=mybins)
m <- leaflet(df_exact) %>%
addTiles() %>%
addCircleMarkers(lng = ~x_coordinate, lat = ~y_coordinate,
fillColor = ~mypalette(Speed_mph), fillOpacity = 1, radius=5, stroke=FALSE) %>%
addCircles(lng = df_station$x_coordinate,
lat = df_station$y_coordinate,
radius = 2,
color = "red",
fill = T,
fillColor = "red",
fillOpacity = 1,
popup = df_station$Station_Name,
label = mytext,
labelOptions = labelOptions(
textsize = "13px",
direction = "left",
offset = c(0, 10))
) %>%
setView(lng = -78.73, lat = 35.82, zoom = 10) %>%
addLegend(pal=mypalette, values=~Speed_mph, opacity=0.9, title = "Average Speed (mph)", position = "bottomright" ) %>%
addProviderTiles("CartoDB.voyager")
m
m
mytext <- paste(
df_station$Station_Name) %>%
lapply(htmltools::HTML)
mybins <- seq(0, 80, by=5)
mypalette <- colorBin(palette="viridis", domain=df_exact$Speed_mph, na.color="transparent", bins=mybins)
m <- leaflet(df_exact) %>%
addTiles() %>%
addCircleMarkers(lng = ~x_coordinate, lat = ~y_coordinate,
fillColor = ~mypalette(Speed_mph), fillOpacity = 1, radius=5, stroke=FALSE) %>%
addCircles(lng = df_station$x_coordinate,
lat = df_station$y_coordinate,
radius = 2,
color = "red",
fill = T,
fillColor = "red",
fillOpacity = 1,
popup = df_station$Station_Name,
label = mytext,
labelOptions = labelOptions(
textsize = "13px",
direction = "left",
offset = c(0, 10))
) %>%
setView(lng = -78.72, lat = 35.82, zoom = 10) %>%
addLegend(pal=mypalette, values=~Speed_mph, opacity=0.9, title = "Average Speed (mph)", position = "bottomright" ) %>%
addProviderTiles("CartoDB.voyager")
m
m
mytext <- paste(
df_station$Station_Name) %>%
lapply(htmltools::HTML)
mybins <- seq(0, 80, by=5)
mypalette <- colorBin(palette="viridis", domain=df_exact$Speed_mph, na.color="transparent", bins=mybins)
m <- leaflet(df_exact) %>%
addTiles() %>%
addCircleMarkers(lng = ~x_coordinate, lat = ~y_coordinate,
fillColor = ~mypalette(Speed_mph), fillOpacity = 1, radius=5, stroke=FALSE) %>%
addCircles(lng = df_station$x_coordinate,
lat = df_station$y_coordinate,
radius = 2,
color = "red",
fill = T,
fillColor = "red",
fillOpacity = 1,
popup = df_station$Station_Name,
label = mytext,
labelOptions = labelOptions(
textsize = "13px",
direction = "left",
offset = c(0, 10))
) %>%
setView(lng = -78.72, lat = 35.84, zoom = 10) %>%
addLegend(pal=mypalette, values=~Speed_mph, opacity=0.9, title = "Average Speed (mph)", position = "bottomright" ) %>%
addProviderTiles("CartoDB.voyager")
m
m
mytext <- paste(
df_station$Station_Name) %>%
lapply(htmltools::HTML)
mybins <- seq(0, 80, by=5)
mypalette <- colorBin(palette="viridis", domain=df_exact$Speed_mph, na.color="transparent", bins=mybins)
m <- leaflet(df_exact) %>%
addTiles() %>%
addCircleMarkers(lng = ~x_coordinate, lat = ~y_coordinate,
fillColor = ~mypalette(Speed_mph), fillOpacity = 1, radius=5, stroke=FALSE) %>%
addCircles(lng = df_station$x_coordinate,
lat = df_station$y_coordinate,
radius = 2,
color = "red",
fill = T,
fillColor = "red",
fillOpacity = 1,
popup = df_station$Station_Name,
label = mytext,
labelOptions = labelOptions(
textsize = "13px",
direction = "left",
offset = c(0, 10))
) %>%
setView(lng = -78.72, lat = 35.84, zoom = 10) %>%
addLegend(pal=mypalette, values=~Speed_mph, opacity=0.9, title = "Average Speed (mph)", position = "bottomright" ) %>%
addProviderTiles("Thunderforest.MobileAtlas")
m
m
mytext <- paste(
df_station$Station_Name) %>%
lapply(htmltools::HTML)
mybins <- seq(0, 80, by=5)
mypalette <- colorBin(palette="viridis", domain=df_exact$Speed_mph, na.color="transparent", bins=mybins)
m <- leaflet(df_exact) %>%
addTiles() %>%
addCircleMarkers(lng = ~x_coordinate, lat = ~y_coordinate,
fillColor = ~mypalette(Speed_mph), fillOpacity = 1, radius=5, stroke=FALSE) %>%
addCircles(lng = df_station$x_coordinate,
lat = df_station$y_coordinate,
radius = 2,
color = "red",
fill = T,
fillColor = "red",
fillOpacity = 1,
popup = df_station$Station_Name,
label = mytext,
labelOptions = labelOptions(
textsize = "13px",
direction = "left",
offset = c(0, 10))
) %>%
setView(lng = -78.72, lat = 35.84, zoom = 10) %>%
addLegend(pal=mypalette, values=~Speed_mph, opacity=0.9, title = "Average Speed (mph)", position = "bottomright" ) %>%
addProviderTiles("Jawg.Dark")
m
mytext <- paste(
df_station$Station_Name) %>%
lapply(htmltools::HTML)
mybins <- seq(0, 80, by=5)
mypalette <- colorBin(palette="viridis", domain=df_exact$Speed_mph, na.color="transparent", bins=mybins)
m <- leaflet(df_exact) %>%
addTiles() %>%
addCircleMarkers(lng = ~x_coordinate, lat = ~y_coordinate,
fillColor = ~mypalette(Speed_mph), fillOpacity = 1, radius=5, stroke=FALSE) %>%
addCircles(lng = df_station$x_coordinate,
lat = df_station$y_coordinate,
radius = 2,
color = "red",
fill = T,
fillColor = "red",
fillOpacity = 1,
popup = df_station$Station_Name,
label = mytext,
labelOptions = labelOptions(
textsize = "13px",
direction = "left",
offset = c(0, 10))
) %>%
setView(lng = -78.72, lat = 35.84, zoom = 10) %>%
addLegend(pal=mypalette, values=~Speed_mph, opacity=0.9, title = "Average Speed (mph)", position = "bottomright" ) %>%
addProviderTiles("Thunderforest.TransportDark")
m
mytext <- paste(
df_station$Station_Name) %>%
lapply(htmltools::HTML)
mybins <- seq(0, 80, by=5)
mypalette <- colorBin(palette="viridis", domain=df_exact$Speed_mph, na.color="transparent", bins=mybins)
m <- leaflet(df_exact) %>%
addTiles() %>%
addCircleMarkers(lng = ~x_coordinate, lat = ~y_coordinate,
fillColor = ~mypalette(Speed_mph), fillOpacity = 1, radius=5, stroke=FALSE) %>%
addCircles(lng = df_station$x_coordinate,
lat = df_station$y_coordinate,
radius = 2,
color = "red",
fill = T,
fillColor = "red",
fillOpacity = 1,
popup = df_station$Station_Name,
label = mytext,
labelOptions = labelOptions(
textsize = "13px",
direction = "left",
offset = c(0, 10))
) %>%
setView(lng = -78.72, lat = 35.84, zoom = 10) %>%
addLegend(pal=mypalette, values=~Speed_mph, opacity=0.9, title = "Average Speed (mph)", position = "bottomright" ) %>%
addProviderTiles("OpenStreetMap.BZH")
m
write.csv(df_exact, "../01_Data/02_Processed/randomForest/Prediction_exact.csv", row.names = FALSE)
m
mytext <- paste(
df_station$Station_Name) %>%
lapply(htmltools::HTML)
mybins <- seq(0, 80, by=5)
mypalette <- colorBin(palette="viridis", domain=df_exact$Speed_mph, na.color="transparent", bins=mybins)
m <- leaflet(df_exact) %>%
addTiles() %>%
addCircleMarkers(lng = ~x_coordinate, lat = ~y_coordinate,
fillColor = ~mypalette(Speed_mph), fillOpacity = 1, radius=5, stroke=FALSE) %>%
addCircles(lng = df_station$x_coordinate,
lat = df_station$y_coordinate,
radius = 2,
color = "red",
fill = T,
fillColor = "red",
fillOpacity = 1,
popup = df_station$Station_Name,
label = mytext,
labelOptions = labelOptions(
textsize = "13px",
direction = "left",
offset = c(0, 10))
) %>%
setView(lng = -78.72, lat = 35.84, zoom = 10) %>%
addLegend(pal=mypalette, values=~Speed_mph, opacity=0.9, title = "Average Speed (mph)", position = "bottomright" ) %>%
addProviderTiles("Stadia.AlidadeSmooth")
m
m
mytext <- paste(
df_station$Station_Name) %>%
lapply(htmltools::HTML)
mybins <- seq(0, 80, by=5)
mypalette <- colorBin(palette="viridis", domain=df_exact$Speed_mph, na.color="transparent", bins=mybins)
m <- leaflet(df_exact) %>%
addTiles() %>%
addCircleMarkers(lng = ~x_coordinate, lat = ~y_coordinate,
fillColor = ~mypalette(Speed_mph), fillOpacity = 1, radius=5, stroke=FALSE) %>%
addCircles(lng = df_station$x_coordinate,
lat = df_station$y_coordinate,
radius = 2,
color = "red",
fill = T,
fillColor = "red",
fillOpacity = 1,
popup = df_station$Station_Name,
label = mytext,
labelOptions = labelOptions(
textsize = "13px",
direction = "left",
offset = c(0, 10))
) %>%
setView(lng = -78.72, lat = 35.84, zoom = 10) %>%
addLegend(pal=mypalette, values=~Speed_mph, opacity=0.9, title = "Average Speed (mph)", position = "topright" ) %>%
addProviderTiles("Stadia.AlidadeSmooth")
m
m
mytext <- paste(
df_station$Station_Name) %>%
lapply(htmltools::HTML)
mybins <- seq(0, 80, by=5)
mypalette <- colorBin(palette="viridis", domain=df_exact$Speed_mph, na.color="transparent", bins=mybins)
m <- leaflet(df_exact) %>%
addTiles() %>%
addCircleMarkers(lng = ~x_coordinate, lat = ~y_coordinate,
fillColor = ~mypalette(Speed_mph), fillOpacity = 1, radius=5, stroke=FALSE) %>%
addCircles(lng = df_station$x_coordinate,
lat = df_station$y_coordinate,
radius = 2,
color = "red",
fill = T,
fillColor = "red",
fillOpacity = 1,
popup = df_station$Station_Name,
label = mytext,
labelOptions = labelOptions(
textsize = "13px",
direction = "left",
offset = c(0, 10))
) %>%
setView(lng = -78.72, lat = 35.84, zoom = 11) %>%
addLegend(pal=mypalette, values=~Speed_mph, opacity=0.9, title = "Average Speed (mph)", position = "topright" ) %>%
addProviderTiles("Stadia.AlidadeSmooth")
m
mytext <- paste(
df_station$Station_Name) %>%
lapply(htmltools::HTML)
mybins <- seq(0, 80, by=5)
mypalette <- colorBin(palette="viridis", domain=df_exact$Speed_mph, na.color="transparent", bins=mybins)
m <- leaflet(df_exact, height = 640, width = 640) %>%
addTiles() %>%
addCircleMarkers(lng = ~x_coordinate, lat = ~y_coordinate,
fillColor = ~mypalette(Speed_mph), fillOpacity = 1, radius=5, stroke=FALSE) %>%
addCircles(lng = df_station$x_coordinate,
lat = df_station$y_coordinate,
radius = 2,
color = "red",
fill = T,
fillColor = "red",
fillOpacity = 1,
popup = df_station$Station_Name,
label = mytext,
labelOptions = labelOptions(
textsize = "13px",
direction = "left",
offset = c(0, 10))
) %>%
setView(lng = -78.72, lat = 35.84, zoom = 11) %>%
addLegend(pal=mypalette, values=~Speed_mph, opacity=0.9, title = "Average Speed (mph)", position = "topright" ) %>%
addProviderTiles("Stadia.AlidadeSmooth")
m
mytext <- paste(
df_station$Station_Name) %>%
lapply(htmltools::HTML)
mybins <- seq(0, 80, by=5)
mypalette <- colorBin(palette="viridis", domain=df_exact$Speed_mph, na.color="transparent", bins=mybins)
m <- leaflet(df_exact, height = 640, width = 640) %>%
addTiles() %>%
addCircleMarkers(lng = ~x_coordinate, lat = ~y_coordinate,
fillColor = ~mypalette(Speed_mph), fillOpacity = 1, radius=5, stroke=FALSE) %>%
addCircles(lng = df_station$x_coordinate,
lat = df_station$y_coordinate,
radius = 2,
color = "red",
fill = T,
fillColor = "red",
fillOpacity = 1,
popup = df_station$Station_Name,
label = mytext,
labelOptions = labelOptions(
textsize = "13px",
direction = "left",
offset = c(0, 10))
) %>%
setView(lng = -78.72, lat = 35.84, zoom = 10) %>%
addLegend(pal=mypalette, values=~Speed_mph, opacity=0.9, title = "Average Speed (mph)", position = "topright" ) %>%
addProviderTiles("Stadia.AlidadeSmooth")
m
m
